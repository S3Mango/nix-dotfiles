{ lib, config, inputs, pkgs, ... }:
{
  home.packages = with pkgs; [
    neovim
  ];

  programs.nvf = {
    enable = true;   

    settings = {
      vim = {
        theme = {
          enable = true;
          name = "tokyonight";
          style = "night";
        };
        
        telescope.enable = true;
        autocomplete.nvim-cmp.enable = true;
        undoFile.enable = true;

        languages = {
          enableLSP = true;
          enableTreesitter = true;

          nix.enable = true;
        };

        options.wrap = false;

        theme.extraConfig = ''
          vim.keymap.set("n", "<C-e>", vim.cmd.Ex)
          vim.keymap.set("x", "p", [["_dP]])
          vim.keymap.set({"n", "v"}, "<C-s>", [["+y]])
          vim.opt.scrolloff = 8
          vim.opt.hlsearch = false
        '';
      };
    };
  };
}
